<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <title>Priority</title>
    <style>
        .bg-primary { background-color: #33ffc2; }
        .bg-background { background-color: #0D2F2B; }
        .bg-sceend { background-color: #33FF66; }
        .bg-thre { background-color: #ff7231; }
        .text-primary { color: #333333; }
        .text-accent { color: #50E3C2; }
        .text-warning { color: #ff7231; }
        /* Custom scrollbar */
        .custom-scrollbar::-webkit-scrollbar { display: none; }
        .custom-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class=" text-white">
    <header class="fixed z-10 top-0 left-0 right-0 flex flex-col md:flex-row justify-between items-center bg-background rounded-b-2xl shadow-2xl px-5 md:px-10 py-3 gap-5 md:gap-20">
        <div class="flex items-center">
            <h1 class="font-bold text-2xl md:text-3xl py-5 text-accent"><strong>Task <mark class="bg-primary rounded-r-full p-1 pb-2">Flow</mark></strong></h1>
        </div>
        <a href="./todo.html"><img src="../Assets/left.png" alt="back" width="40" style="background: transparent;"></a>
    </header>

    <section>
        <div class="mt-40 relative overflow-x-auto shadow-md sm:rounded-lg mx-4">
            <div class="flex flex-column sm:flex-row flex-wrap space-y-4 sm:space-y-0 items-center justify-between pb-4">
                <div>
                    <select class="flex items-center text-gray-500 bg-white border border-gray-300 focus:outline-none hover:bg-gray-100 font-medium rounded-lg text-sm px-3 py-1.5">
                        <option value="">Last Day</option>
                        <option value="">7 days</option>
                        <option value="">Last 30 days</option>
                        <option value="">Year</option>
                    </select>
                </div>
                <div class="relative">
                    <input type="text" id="table-search" class="block p-2 px-10 text-sm text-gray-900 border border-gray-300 rounded-lg w-80 bg-gray-50 focus:ring-blue-500 focus:border-blue-500" placeholder="Search for items">
                </div>
            </div>

            <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
                <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400">
                    <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                        <tr>
                            <th scope="col" class="p-4">#</th>
                            <th scope="col" class="px-6 py-3">Tasks</th>
                            <th scope="col" class="px-6 py-3">Priority</th>
                            <th scope="col" class="px-6 py-3">Status</th>
                            <th scope="col" class="px-6 py-3">Deadline</th>
                            <th scope="col" class="px-6 py-3">Action</th>
                        </tr>
                    </thead>
                    <tbody id="task-table-body">
                        <!-- Tasks will be injected here by JavaScript -->
                    </tbody>
                </table>
            </div>
        </div>
    </section>

    <script>
        function displayTasks() {
            const tasks = JSON.parse(localStorage.getItem("tasks")) || [];
            const taskTableBody = document.getElementById("task-table-body");
            taskTableBody.innerHTML = ""; 

            tasks.forEach((task, index) => {
                const row = document.createElement("tr");
                row.className = "bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600";

                row.innerHTML = `
                    <td class="p-4">${index + 1}</td>
                    <td class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">${task.titer}</td>
                    <td class="px-6 py-4">${task.Priority}</td>
                    <td class="px-6 py-4">${task.Status}</td>
                    <td class="px-6 py-4">${task.Date}</td>
                    <td class="px-6 py-4">
                        <button onclick="deleteTask(${task.id})" class="font-medium text-red-600 dark:text-blue-500 hover:underline">Delete</button>
                    </td>
                `;
                taskTableBody.appendChild(row);
            });
        }

        // Function to delete a task
        function deleteTask(id) {
            if (confirm("Are you sure you want to delete this task?")) {
                let tasks = JSON.parse(localStorage.getItem("tasks")) || [];
                tasks = tasks.filter(task => task.id !== id);
                localStorage.setItem("tasks", JSON.stringify(tasks));
                displayTasks();
            }
        }

        // Display tasks on page load
        document.addEventListener("DOMContentLoaded", displayTasks);
    </script>
</body>
</html>
